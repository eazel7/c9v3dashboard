<form novalidate name="newUserForm" role="form" class="form-horizontal" ng-submit="newUser.save()">
  <div class="alert alert-danger" ng-if="newUser.error">
    <p class="text-center">
      <strong>Error</strong>
    </p>
    <p class="text-center">
      {{newUser.error}}
    </p>
  </div>

  <div class="form-group">
    <label class="col-sm-2 control-label">Username</label>
    <div class="col-sm-10">
      <input name="username" type="text" class="form-control" ng-model="newUser.username"  ng-pattern="/^[a-z][a-z0-9_-]{3,16}$/" required/>
    </div>

    <p ng-show="newUserForm.username.$error.required" class="help-block col-sm-10 col-sm-offset-2">
      <span class="text-danger">Username is required.</span>
    </p>

    <p ng-show="newUserForm.username.$error.pattern" class="help-block col-sm-10 col-sm-offset-2">
      <span class="text-danger">
        Username must contain only: letters, numbers, dashes, underscores<br />
      And must begin with a letter.
    </span>
    </p>
  </div>

  <div class="form-group">
      <label class="col-sm-2 control-label">Initial password</label>
      <div class="col-sm-10">
        <input type="password" class="form-control" required ng-model="newUser.password" />
      </div>

      <p ng-show="newUser.password === newUser.defaultPassword" class="col-sm-10 col-sm-offset-2 help-block">
        <span class="text-info">Using default password:</span>&nbsp;<span class="code">{{newUser.defaultPassword}}</span>
      </p>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-2">Display name</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" ng-model="newUser.displayName" placeholder="{{newUser.username}}" />
    </div>
  </div>


  <div class="form-group">
    <p class="text-center">
      <button ng-disabled="newUserForm.$invalid" class="btn btn-primary" type="submit"><i class="glyphicon glyphicon-save"></i> Create user</button>
    </p>
  </div>
</form>
